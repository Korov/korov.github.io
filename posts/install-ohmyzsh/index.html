<!DOCTYPE html><html lang="zh-CN" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.0" /><meta property="og:title" content="安装Oh My ZSH" /><meta property="og:locale" content="zh_CN" /><meta name="description" content="安装Oh My ZSH" /><meta property="og:description" content="安装Oh My ZSH" /><link rel="canonical" href="https://korov.github.io/posts/install-ohmyzsh/" /><meta property="og:url" content="https://korov.github.io/posts/install-ohmyzsh/" /><meta property="og:site_name" content="Korov" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-06-26T15:47:02+08:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="安装Oh My ZSH" /><meta name="twitter:site" content="@twitter_username" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"description":"安装Oh My ZSH","headline":"安装Oh My ZSH","url":"https://korov.github.io/posts/install-ohmyzsh/","@type":"BlogPosting","dateModified":"2021-06-26T15:47:02+08:00","datePublished":"2021-06-26T15:47:02+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://korov.github.io/posts/install-ohmyzsh/"},"@context":"https://schema.org"}</script><title>安装Oh My ZSH | Korov</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Korov"><meta name="application-name" content="Korov"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script async src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/favicons/android-chrome-512x512.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Korov</a></div><div class="site-subtitle font-italic">Korov's Blog</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/korov" aria-label="github" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/twitter_username" aria-label="twitter" class="order-4" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['korov9','163.com'].join('@')" aria-label="email" class="order-5" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" class="order-6" > <i class="fas fa-rss"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>安装Oh My ZSH</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>安装Oh My ZSH</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> Korov </span> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Sat, Jun 26, 2021, 3:47 PM +0800" prep="on" > Jun 26 <i class="unloaded">2021-06-26T15:47:02+08:00</i> </span></div><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="2107 words">11 min</span></div></div><div class="post-content"><h1 id="安装oh-my-zsh">安装Oh My ZSH</h1><p>按照官方说明安装不成功</p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="nv">$ </span>sh <span class="nt">-c</span> <span class="s2">"</span><span class="si">$(</span>wget https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh <span class="nt">-O</span> -<span class="si">)</span><span class="s2">"</span>
Connecting to raw.github.com <span class="o">(</span>185.199.108.133:443<span class="o">)</span>
Connecting to raw.githubusercontent.com <span class="o">(</span>0.0.0.0:443<span class="o">)</span>
wget: can<span class="s1">'t connect to remote host (0.0.0.0): Connection refused
</span></pre></table></code></div></div><p>我们只能按照另一套方法来安装，浏览器访问<a href="https://github.com/ohmyzsh/ohmyzsh/blob/master/tools/install.sh">安装脚本</a>，下面复制了一份</p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
</pre><td class="rouge-code"><pre><span class="c">#!/bin/sh</span>
<span class="c">#</span>
<span class="c"># This script should be run via curl:</span>
<span class="c">#   sh -c "$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)"</span>
<span class="c"># or via wget:</span>
<span class="c">#   sh -c "$(wget -qO- https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)"</span>
<span class="c"># or via fetch:</span>
<span class="c">#   sh -c "$(fetch -o - https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)"</span>
<span class="c">#</span>
<span class="c"># As an alternative, you can first download the install script and run it afterwards:</span>
<span class="c">#   wget https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh</span>
<span class="c">#   sh install.sh</span>
<span class="c">#</span>
<span class="c"># You can tweak the install behavior by setting variables when running the script. For</span>
<span class="c"># example, to change the path to the Oh My Zsh repository:</span>
<span class="c">#   ZSH=~/.zsh sh install.sh</span>
<span class="c">#</span>
<span class="c"># Respects the following environment variables:</span>
<span class="c">#   ZSH     - path to the Oh My Zsh repository folder (default: $HOME/.oh-my-zsh)</span>
<span class="c">#   REPO    - name of the GitHub repo to install from (default: ohmyzsh/ohmyzsh)</span>
<span class="c">#   REMOTE  - full remote URL of the git repo to install (default: GitHub via HTTPS)</span>
<span class="c">#   BRANCH  - branch to check out immediately after install (default: master)</span>
<span class="c">#</span>
<span class="c"># Other options:</span>
<span class="c">#   CHSH       - 'no' means the installer will not change the default shell (default: yes)</span>
<span class="c">#   RUNZSH     - 'no' means the installer will not run zsh after the install (default: yes)</span>
<span class="c">#   KEEP_ZSHRC - 'yes' means the installer will not replace an existing .zshrc (default: no)</span>
<span class="c">#</span>
<span class="c"># You can also pass some arguments to the install script to set some these options:</span>
<span class="c">#   --skip-chsh: has the same behavior as setting CHSH to 'no'</span>
<span class="c">#   --unattended: sets both CHSH and RUNZSH to 'no'</span>
<span class="c">#   --keep-zshrc: sets KEEP_ZSHRC to 'yes'</span>
<span class="c"># For example:</span>
<span class="c">#   sh install.sh --unattended</span>
<span class="c"># or:</span>
<span class="c">#   sh -c "$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)" "" --unattended</span>
<span class="c">#</span>
<span class="nb">set</span> <span class="nt">-e</span>

<span class="c"># Track if $ZSH was provided</span>
<span class="nv">custom_zsh</span><span class="o">=</span><span class="k">${</span><span class="nv">ZSH</span>:+yes<span class="k">}</span>

<span class="c"># Default settings</span>
<span class="nv">ZSH</span><span class="o">=</span><span class="k">${</span><span class="nv">ZSH</span><span class="k">:-</span><span class="p">~/.oh-my-zsh</span><span class="k">}</span>
<span class="nv">REPO</span><span class="o">=</span><span class="k">${</span><span class="nv">REPO</span><span class="k">:-</span><span class="nv">ohmyzsh</span><span class="p">/ohmyzsh</span><span class="k">}</span>
<span class="nv">REMOTE</span><span class="o">=</span><span class="k">${</span><span class="nv">REMOTE</span><span class="k">:-</span><span class="nv">https</span>://github.com/<span class="k">${</span><span class="nv">REPO</span><span class="k">}</span><span class="p">.git</span><span class="k">}</span>
<span class="nv">BRANCH</span><span class="o">=</span><span class="k">${</span><span class="nv">BRANCH</span><span class="k">:-</span><span class="nv">master</span><span class="k">}</span>

<span class="c"># Other options</span>
<span class="nv">CHSH</span><span class="o">=</span><span class="k">${</span><span class="nv">CHSH</span><span class="k">:-</span><span class="nv">yes</span><span class="k">}</span>
<span class="nv">RUNZSH</span><span class="o">=</span><span class="k">${</span><span class="nv">RUNZSH</span><span class="k">:-</span><span class="nv">yes</span><span class="k">}</span>
<span class="nv">KEEP_ZSHRC</span><span class="o">=</span><span class="k">${</span><span class="nv">KEEP_ZSHRC</span><span class="k">:-</span><span class="nv">no</span><span class="k">}</span>


command_exists<span class="o">()</span> <span class="o">{</span>
	<span class="nb">command</span> <span class="nt">-v</span> <span class="s2">"</span><span class="nv">$@</span><span class="s2">"</span> <span class="o">&gt;</span>/dev/null 2&gt;&amp;1
<span class="o">}</span>

fmt_error<span class="o">()</span> <span class="o">{</span>
  <span class="nb">printf</span> <span class="s1">'%sError: %s%s\n'</span> <span class="s2">"</span><span class="nv">$BOLD$RED</span><span class="s2">"</span> <span class="s2">"</span><span class="nv">$*</span><span class="s2">"</span> <span class="s2">"</span><span class="nv">$RESET</span><span class="s2">"</span> <span class="o">&gt;</span>&amp;2
<span class="o">}</span>

fmt_underline<span class="o">()</span> <span class="o">{</span>
  <span class="nb">printf</span> <span class="s1">'\033[4m%s\033[24m\n'</span> <span class="s2">"</span><span class="nv">$*</span><span class="s2">"</span>
<span class="o">}</span>

fmt_code<span class="o">()</span> <span class="o">{</span>
  <span class="c"># shellcheck disable=SC2016 # backtic in single-quote</span>
  <span class="nb">printf</span> <span class="s1">'`\033[38;5;247m%s%s`\n'</span> <span class="s2">"</span><span class="nv">$*</span><span class="s2">"</span> <span class="s2">"</span><span class="nv">$RESET</span><span class="s2">"</span>
<span class="o">}</span>

setup_color<span class="o">()</span> <span class="o">{</span>
	<span class="c"># Only use colors if connected to a terminal</span>
	<span class="k">if</span> <span class="o">[</span> <span class="nt">-t</span> 1 <span class="o">]</span><span class="p">;</span> <span class="k">then
		</span><span class="nv">RED</span><span class="o">=</span><span class="si">$(</span><span class="nb">printf</span> <span class="s1">'\033[31m'</span><span class="si">)</span>
		<span class="nv">GREEN</span><span class="o">=</span><span class="si">$(</span><span class="nb">printf</span> <span class="s1">'\033[32m'</span><span class="si">)</span>
		<span class="nv">YELLOW</span><span class="o">=</span><span class="si">$(</span><span class="nb">printf</span> <span class="s1">'\033[33m'</span><span class="si">)</span>
		<span class="nv">BLUE</span><span class="o">=</span><span class="si">$(</span><span class="nb">printf</span> <span class="s1">'\033[34m'</span><span class="si">)</span>
		<span class="nv">BOLD</span><span class="o">=</span><span class="si">$(</span><span class="nb">printf</span> <span class="s1">'\033[1m'</span><span class="si">)</span>
		<span class="nv">RESET</span><span class="o">=</span><span class="si">$(</span><span class="nb">printf</span> <span class="s1">'\033[m'</span><span class="si">)</span>
	<span class="k">else
		</span><span class="nv">RED</span><span class="o">=</span><span class="s2">""</span>
		<span class="nv">GREEN</span><span class="o">=</span><span class="s2">""</span>
		<span class="nv">YELLOW</span><span class="o">=</span><span class="s2">""</span>
		<span class="nv">BLUE</span><span class="o">=</span><span class="s2">""</span>
		<span class="nv">BOLD</span><span class="o">=</span><span class="s2">""</span>
		<span class="nv">RESET</span><span class="o">=</span><span class="s2">""</span>
	<span class="k">fi</span>
<span class="o">}</span>

setup_ohmyzsh<span class="o">()</span> <span class="o">{</span>
  <span class="c"># Prevent the cloned repository from having insecure permissions. Failing to do</span>
  <span class="c"># so causes compinit() calls to fail with "command not found: compdef" errors</span>
  <span class="c"># for users with insecure umasks (e.g., "002", allowing group writability). Note</span>
  <span class="c"># that this will be ignored under Cygwin by default, as Windows ACLs take</span>
  <span class="c"># precedence over umasks except for filesystems mounted with option "noacl".</span>
  <span class="nb">umask </span>g-w,o-w

  <span class="nb">echo</span> <span class="s2">"</span><span class="k">${</span><span class="nv">BLUE</span><span class="k">}</span><span class="s2">Cloning Oh My Zsh...</span><span class="k">${</span><span class="nv">RESET</span><span class="k">}</span><span class="s2">"</span>

  command_exists git <span class="o">||</span> <span class="o">{</span>
    fmt_error <span class="s2">"git is not installed"</span>
    <span class="nb">exit </span>1
  <span class="o">}</span>

  <span class="nv">ostype</span><span class="o">=</span><span class="si">$(</span><span class="nb">uname</span><span class="si">)</span>
  <span class="k">if</span> <span class="o">[</span> <span class="nt">-z</span> <span class="s2">"</span><span class="k">${</span><span class="nv">ostype</span><span class="p">%CYGWIN*</span><span class="k">}</span><span class="s2">"</span> <span class="o">]</span> <span class="o">&amp;&amp;</span> git <span class="nt">--version</span> | <span class="nb">grep</span> <span class="nt">-q</span> msysgit<span class="p">;</span> <span class="k">then
    </span>fmt_error <span class="s2">"Windows/MSYS Git is not supported on Cygwin"</span>
    fmt_error <span class="s2">"Make sure the Cygwin git package is installed and is first on the </span><span class="se">\$</span><span class="s2">PATH"</span>
    <span class="nb">exit </span>1
  <span class="k">fi

  </span>git clone <span class="nt">-c</span> core.eol<span class="o">=</span>lf <span class="nt">-c</span> core.autocrlf<span class="o">=</span><span class="nb">false</span> <span class="se">\</span>
    <span class="nt">-c</span> fsck.zeroPaddedFilemode<span class="o">=</span>ignore <span class="se">\</span>
    <span class="nt">-c</span> fetch.fsck.zeroPaddedFilemode<span class="o">=</span>ignore <span class="se">\</span>
    <span class="nt">-c</span> receive.fsck.zeroPaddedFilemode<span class="o">=</span>ignore <span class="se">\</span>
    <span class="nt">--depth</span><span class="o">=</span>1 <span class="nt">--branch</span> <span class="s2">"</span><span class="nv">$BRANCH</span><span class="s2">"</span> <span class="s2">"</span><span class="nv">$REMOTE</span><span class="s2">"</span> <span class="s2">"</span><span class="nv">$ZSH</span><span class="s2">"</span> <span class="o">||</span> <span class="o">{</span>
    fmt_error <span class="s2">"git clone of oh-my-zsh repo failed"</span>
    <span class="nb">exit </span>1
  <span class="o">}</span>

  <span class="nb">echo</span>
<span class="o">}</span>

setup_zshrc<span class="o">()</span> <span class="o">{</span>
  <span class="c"># Keep most recent old .zshrc at .zshrc.pre-oh-my-zsh, and older ones</span>
  <span class="c"># with datestamp of installation that moved them aside, so we never actually</span>
  <span class="c"># destroy a user's original zshrc</span>
  <span class="nb">echo</span> <span class="s2">"</span><span class="k">${</span><span class="nv">BLUE</span><span class="k">}</span><span class="s2">Looking for an existing zsh config...</span><span class="k">${</span><span class="nv">RESET</span><span class="k">}</span><span class="s2">"</span>

  <span class="c"># Must use this exact name so uninstall.sh can find it</span>
  <span class="nv">OLD_ZSHRC</span><span class="o">=</span>~/.zshrc.pre-oh-my-zsh
  <span class="k">if</span> <span class="o">[</span> <span class="nt">-f</span> ~/.zshrc <span class="o">]</span> <span class="o">||</span> <span class="o">[</span> <span class="nt">-h</span> ~/.zshrc <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
    <span class="c"># Skip this if the user doesn't want to replace an existing .zshrc</span>
    <span class="k">if</span> <span class="o">[</span> <span class="s2">"</span><span class="nv">$KEEP_ZSHRC</span><span class="s2">"</span> <span class="o">=</span> <span class="nb">yes</span> <span class="o">]</span><span class="p">;</span> <span class="k">then
      </span><span class="nb">echo</span> <span class="s2">"</span><span class="k">${</span><span class="nv">YELLOW</span><span class="k">}</span><span class="s2">Found ~/.zshrc.</span><span class="k">${</span><span class="nv">RESET</span><span class="k">}</span><span class="s2"> </span><span class="k">${</span><span class="nv">GREEN</span><span class="k">}</span><span class="s2">Keeping...</span><span class="k">${</span><span class="nv">RESET</span><span class="k">}</span><span class="s2">"</span>
      <span class="k">return
    fi
    if</span> <span class="o">[</span> <span class="nt">-e</span> <span class="s2">"</span><span class="nv">$OLD_ZSHRC</span><span class="s2">"</span> <span class="o">]</span><span class="p">;</span> <span class="k">then
      </span><span class="nv">OLD_OLD_ZSHRC</span><span class="o">=</span><span class="s2">"</span><span class="k">${</span><span class="nv">OLD_ZSHRC</span><span class="k">}</span><span class="s2">-</span><span class="si">$(</span><span class="nb">date</span> +%Y-%m-%d_%H-%M-%S<span class="si">)</span><span class="s2">"</span>
      <span class="k">if</span> <span class="o">[</span> <span class="nt">-e</span> <span class="s2">"</span><span class="nv">$OLD_OLD_ZSHRC</span><span class="s2">"</span> <span class="o">]</span><span class="p">;</span> <span class="k">then
        </span>fmt_error <span class="s2">"</span><span class="nv">$OLD_OLD_ZSHRC</span><span class="s2"> exists. Can't back up </span><span class="k">${</span><span class="nv">OLD_ZSHRC</span><span class="k">}</span><span class="s2">"</span>
        fmt_error <span class="s2">"re-run the installer again in a couple of seconds"</span>
        <span class="nb">exit </span>1
      <span class="k">fi
      </span><span class="nb">mv</span> <span class="s2">"</span><span class="nv">$OLD_ZSHRC</span><span class="s2">"</span> <span class="s2">"</span><span class="k">${</span><span class="nv">OLD_OLD_ZSHRC</span><span class="k">}</span><span class="s2">"</span>

      <span class="nb">echo</span> <span class="s2">"</span><span class="k">${</span><span class="nv">YELLOW</span><span class="k">}</span><span class="s2">Found old ~/.zshrc.pre-oh-my-zsh."</span> <span class="se">\</span>
        <span class="s2">"</span><span class="k">${</span><span class="nv">GREEN</span><span class="k">}</span><span class="s2">Backing up to </span><span class="k">${</span><span class="nv">OLD_OLD_ZSHRC</span><span class="k">}${</span><span class="nv">RESET</span><span class="k">}</span><span class="s2">"</span>
    <span class="k">fi
    </span><span class="nb">echo</span> <span class="s2">"</span><span class="k">${</span><span class="nv">YELLOW</span><span class="k">}</span><span class="s2">Found ~/.zshrc.</span><span class="k">${</span><span class="nv">RESET</span><span class="k">}</span><span class="s2"> </span><span class="k">${</span><span class="nv">GREEN</span><span class="k">}</span><span class="s2">Backing up to </span><span class="k">${</span><span class="nv">OLD_ZSHRC</span><span class="k">}${</span><span class="nv">RESET</span><span class="k">}</span><span class="s2">"</span>
    <span class="nb">mv</span> ~/.zshrc <span class="s2">"</span><span class="nv">$OLD_ZSHRC</span><span class="s2">"</span>
  <span class="k">fi

  </span><span class="nb">echo</span> <span class="s2">"</span><span class="k">${</span><span class="nv">GREEN</span><span class="k">}</span><span class="s2">Using the Oh My Zsh template file and adding it to ~/.zshrc.</span><span class="k">${</span><span class="nv">RESET</span><span class="k">}</span><span class="s2">"</span>

  <span class="nb">sed</span> <span class="s2">"/^export ZSH=/ c</span><span class="se">\\</span><span class="s2">
export ZSH=</span><span class="se">\"</span><span class="nv">$ZSH</span><span class="se">\"</span><span class="s2">
"</span> <span class="s2">"</span><span class="nv">$ZSH</span><span class="s2">/templates/zshrc.zsh-template"</span> <span class="o">&gt;</span> ~/.zshrc-omztemp
	<span class="nb">mv</span> <span class="nt">-f</span> ~/.zshrc-omztemp ~/.zshrc

	<span class="nb">echo</span>
<span class="o">}</span>

setup_shell<span class="o">()</span> <span class="o">{</span>
  <span class="c"># Skip setup if the user wants or stdin is closed (not running interactively).</span>
  <span class="k">if</span> <span class="o">[</span> <span class="s2">"</span><span class="nv">$CHSH</span><span class="s2">"</span> <span class="o">=</span> no <span class="o">]</span><span class="p">;</span> <span class="k">then
    return
  fi</span>

  <span class="c"># If this user's login shell is already "zsh", do not attempt to switch.</span>
  <span class="k">if</span> <span class="o">[</span> <span class="s2">"</span><span class="si">$(</span><span class="nb">basename</span> <span class="nt">--</span> <span class="s2">"</span><span class="nv">$SHELL</span><span class="s2">"</span><span class="si">)</span><span class="s2">"</span> <span class="o">=</span> <span class="s2">"zsh"</span> <span class="o">]</span><span class="p">;</span> <span class="k">then
    return
  fi</span>

  <span class="c"># If this platform doesn't provide a "chsh" command, bail out.</span>
  <span class="k">if</span> <span class="o">!</span> command_exists chsh<span class="p">;</span> <span class="k">then
    </span><span class="nb">cat</span> <span class="o">&lt;&lt;</span><span class="no">EOF</span><span class="sh">
I can't change your shell automatically because this system does not have chsh.
</span><span class="k">${</span><span class="nv">BLUE</span><span class="k">}</span><span class="sh">Please manually change your default shell to zsh</span><span class="k">${</span><span class="nv">RESET</span><span class="k">}</span><span class="sh">
</span><span class="no">EOF
</span>    <span class="k">return
  fi

  </span><span class="nb">echo</span> <span class="s2">"</span><span class="k">${</span><span class="nv">BLUE</span><span class="k">}</span><span class="s2">Time to change your default shell to zsh:</span><span class="k">${</span><span class="nv">RESET</span><span class="k">}</span><span class="s2">"</span>

  <span class="c"># Prompt for user choice on changing the default login shell</span>
  <span class="nb">printf</span> <span class="s1">'%sDo you want to change your default shell to zsh? [Y/n]%s '</span> <span class="se">\</span>
    <span class="s2">"</span><span class="nv">$YELLOW</span><span class="s2">"</span> <span class="s2">"</span><span class="nv">$RESET</span><span class="s2">"</span>
  <span class="nb">read</span> <span class="nt">-r</span> opt
  <span class="k">case</span> <span class="nv">$opt</span> <span class="k">in
    </span>y<span class="k">*</span><span class="p">|</span>Y<span class="k">*</span><span class="p">|</span><span class="s2">""</span><span class="p">)</span> <span class="nb">echo</span> <span class="s2">"Changing the shell..."</span> <span class="p">;;</span>
    n<span class="k">*</span><span class="p">|</span>N<span class="k">*</span><span class="p">)</span> <span class="nb">echo</span> <span class="s2">"Shell change skipped."</span><span class="p">;</span> <span class="k">return</span> <span class="p">;;</span>
    <span class="k">*</span><span class="p">)</span> <span class="nb">echo</span> <span class="s2">"Invalid choice. Shell change skipped."</span><span class="p">;</span> <span class="k">return</span> <span class="p">;;</span>
  <span class="k">esac</span>

  <span class="c"># Check if we're running on Termux</span>
  <span class="k">case</span> <span class="s2">"</span><span class="nv">$PREFIX</span><span class="s2">"</span> <span class="k">in</span>
    <span class="k">*</span>com.termux<span class="k">*</span><span class="p">)</span> <span class="nv">termux</span><span class="o">=</span><span class="nb">true</span><span class="p">;</span> <span class="nv">zsh</span><span class="o">=</span>zsh <span class="p">;;</span>
    <span class="k">*</span><span class="p">)</span> <span class="nv">termux</span><span class="o">=</span><span class="nb">false</span> <span class="p">;;</span>
  <span class="k">esac</span>

  <span class="k">if</span> <span class="o">[</span> <span class="s2">"</span><span class="nv">$termux</span><span class="s2">"</span> <span class="o">!=</span> <span class="nb">true</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
    <span class="c"># Test for the right location of the "shells" file</span>
    <span class="k">if</span> <span class="o">[</span> <span class="nt">-f</span> /etc/shells <span class="o">]</span><span class="p">;</span> <span class="k">then
      </span><span class="nv">shells_file</span><span class="o">=</span>/etc/shells
    <span class="k">elif</span> <span class="o">[</span> <span class="nt">-f</span> /usr/share/defaults/etc/shells <span class="o">]</span><span class="p">;</span> <span class="k">then</span> <span class="c"># Solus OS</span>
      <span class="nv">shells_file</span><span class="o">=</span>/usr/share/defaults/etc/shells
    <span class="k">else
      </span>fmt_error <span class="s2">"could not find /etc/shells file. Change your default shell manually."</span>
      <span class="k">return
    fi</span>

    <span class="c"># Get the path to the right zsh binary</span>
    <span class="c"># 1. Use the most preceding one based on $PATH, then check that it's in the shells file</span>
    <span class="c"># 2. If that fails, get a zsh path from the shells file, then check it actually exists</span>
    <span class="k">if</span> <span class="o">!</span> <span class="nv">zsh</span><span class="o">=</span><span class="si">$(</span><span class="nb">command</span> <span class="nt">-v</span> zsh<span class="si">)</span> <span class="o">||</span> <span class="o">!</span> <span class="nb">grep</span> <span class="nt">-qx</span> <span class="s2">"</span><span class="nv">$zsh</span><span class="s2">"</span> <span class="s2">"</span><span class="nv">$shells_file</span><span class="s2">"</span><span class="p">;</span> <span class="k">then
      if</span> <span class="o">!</span> <span class="nv">zsh</span><span class="o">=</span><span class="si">$(</span><span class="nb">grep</span> <span class="s1">'^/.*/zsh$'</span> <span class="s2">"</span><span class="nv">$shells_file</span><span class="s2">"</span> | <span class="nb">tail</span> <span class="nt">-1</span><span class="si">)</span> <span class="o">||</span> <span class="o">[</span> <span class="o">!</span> <span class="nt">-f</span> <span class="s2">"</span><span class="nv">$zsh</span><span class="s2">"</span> <span class="o">]</span><span class="p">;</span> <span class="k">then
        </span>fmt_error <span class="s2">"no zsh binary found or not present in '</span><span class="nv">$shells_file</span><span class="s2">'"</span>
        fmt_error <span class="s2">"change your default shell manually."</span>
        <span class="k">return
      fi
    fi
  fi</span>

  <span class="c"># We're going to change the default shell, so back up the current one</span>
  <span class="k">if</span> <span class="o">[</span> <span class="nt">-n</span> <span class="s2">"</span><span class="nv">$SHELL</span><span class="s2">"</span> <span class="o">]</span><span class="p">;</span> <span class="k">then
    </span><span class="nb">echo</span> <span class="s2">"</span><span class="nv">$SHELL</span><span class="s2">"</span> <span class="o">&gt;</span> ~/.shell.pre-oh-my-zsh
  <span class="k">else
    </span><span class="nb">grep</span> <span class="s2">"^</span><span class="nv">$USERNAME</span><span class="s2">:"</span> /etc/passwd | <span class="nb">awk</span> <span class="nt">-F</span>: <span class="s1">'{print $7}'</span> <span class="o">&gt;</span> ~/.shell.pre-oh-my-zsh
  <span class="k">fi</span>

  <span class="c"># Actually change the default shell to zsh</span>
  <span class="k">if</span> <span class="o">!</span> chsh <span class="nt">-s</span> <span class="s2">"</span><span class="nv">$zsh</span><span class="s2">"</span><span class="p">;</span> <span class="k">then
    </span>fmt_error <span class="s2">"chsh command unsuccessful. Change your default shell manually."</span>
  <span class="k">else
    </span><span class="nb">export </span><span class="nv">SHELL</span><span class="o">=</span><span class="s2">"</span><span class="nv">$zsh</span><span class="s2">"</span>
    <span class="nb">echo</span> <span class="s2">"</span><span class="k">${</span><span class="nv">GREEN</span><span class="k">}</span><span class="s2">Shell successfully changed to '</span><span class="nv">$zsh</span><span class="s2">'.</span><span class="k">${</span><span class="nv">RESET</span><span class="k">}</span><span class="s2">"</span>
  <span class="k">fi

  </span><span class="nb">echo</span>
<span class="o">}</span>

main<span class="o">()</span> <span class="o">{</span>
  <span class="c"># Run as unattended if stdin is not a tty</span>
  <span class="k">if</span> <span class="o">[</span> <span class="o">!</span> <span class="nt">-t</span> 0 <span class="o">]</span><span class="p">;</span> <span class="k">then
    </span><span class="nv">RUNZSH</span><span class="o">=</span>no
    <span class="nv">CHSH</span><span class="o">=</span>no
  <span class="k">fi</span>

  <span class="c"># Parse arguments</span>
  <span class="k">while</span> <span class="o">[</span> <span class="nv">$# </span><span class="nt">-gt</span> 0 <span class="o">]</span><span class="p">;</span> <span class="k">do
    case</span> <span class="nv">$1</span> <span class="k">in</span>
      <span class="nt">--unattended</span><span class="p">)</span> <span class="nv">RUNZSH</span><span class="o">=</span>no<span class="p">;</span> <span class="nv">CHSH</span><span class="o">=</span>no <span class="p">;;</span>
      <span class="nt">--skip-chsh</span><span class="p">)</span> <span class="nv">CHSH</span><span class="o">=</span>no <span class="p">;;</span>
      <span class="nt">--keep-zshrc</span><span class="p">)</span> <span class="nv">KEEP_ZSHRC</span><span class="o">=</span><span class="nb">yes</span> <span class="p">;;</span>
    <span class="k">esac</span>
    <span class="nb">shift
  </span><span class="k">done

  </span>setup_color

  <span class="k">if</span> <span class="o">!</span> command_exists zsh<span class="p">;</span> <span class="k">then
    </span><span class="nb">echo</span> <span class="s2">"</span><span class="k">${</span><span class="nv">YELLOW</span><span class="k">}</span><span class="s2">Zsh is not installed.</span><span class="k">${</span><span class="nv">RESET</span><span class="k">}</span><span class="s2"> Please install zsh first."</span>
    <span class="nb">exit </span>1
  <span class="k">fi

  if</span> <span class="o">[</span> <span class="nt">-d</span> <span class="s2">"</span><span class="nv">$ZSH</span><span class="s2">"</span> <span class="o">]</span><span class="p">;</span> <span class="k">then
    </span><span class="nb">echo</span> <span class="s2">"</span><span class="k">${</span><span class="nv">YELLOW</span><span class="k">}</span><span class="s2">The </span><span class="se">\$</span><span class="s2">ZSH folder already exists (</span><span class="nv">$ZSH</span><span class="s2">).</span><span class="k">${</span><span class="nv">RESET</span><span class="k">}</span><span class="s2">"</span>
    <span class="k">if</span> <span class="o">[</span> <span class="s2">"</span><span class="nv">$custom_zsh</span><span class="s2">"</span> <span class="o">=</span> <span class="nb">yes</span> <span class="o">]</span><span class="p">;</span> <span class="k">then
      </span><span class="nb">cat</span> <span class="o">&lt;&lt;</span><span class="no">EOF</span><span class="sh">
You ran the installer with the </span><span class="se">\$</span><span class="sh">ZSH setting or the </span><span class="se">\$</span><span class="sh">ZSH variable is
exported. You have 3 options:
1. Unset the ZSH variable when calling the installer:
   </span><span class="si">$(</span>fmt_code <span class="s2">"ZSH= sh install.sh"</span><span class="si">)</span><span class="sh">
2. Install Oh My Zsh to a directory that doesn't exist yet:
   </span><span class="si">$(</span>fmt_code <span class="s2">"ZSH=path/to/new/ohmyzsh/folder sh install.sh"</span><span class="si">)</span><span class="sh">
3. (Caution) If the folder doesn't contain important information,
   you can just remove it with </span><span class="si">$(</span>fmt_code <span class="s2">"rm -r </span><span class="nv">$ZSH</span><span class="s2">"</span><span class="si">)</span><span class="sh">
</span><span class="no">EOF
</span>    <span class="k">else
      </span><span class="nb">echo</span> <span class="s2">"You'll need to remove it if you want to reinstall."</span>
    <span class="k">fi
    </span><span class="nb">exit </span>1
  <span class="k">fi

  </span>setup_ohmyzsh
  setup_zshrc
  setup_shell

  <span class="nb">printf</span> %s <span class="s2">"</span><span class="nv">$GREEN</span><span class="s2">"</span>
  <span class="nb">cat</span> <span class="o">&lt;&lt;</span><span class="sh">'</span><span class="no">EOF</span><span class="sh">'
         __                                     __
  ____  / /_     ____ ___  __  __   ____  _____/ /_
 / __ </span><span class="se">\/</span><span class="sh"> __ </span><span class="se">\ </span><span class="sh">  / __ `__ </span><span class="se">\/</span><span class="sh"> / / /  /_  / / ___/ __ </span><span class="se">\</span><span class="sh">
/ /_/ / / / /  / / / / / / /_/ /    / /_(__  ) / / /
</span><span class="se">\_</span><span class="sh">___/_/ /_/  /_/ /_/ /_/</span><span class="se">\_</span><span class="sh">_, /    /___/____/_/ /_/
                        /____/                       ....is now installed!
</span><span class="no">EOF
</span>  <span class="nb">cat</span> <span class="o">&lt;&lt;</span><span class="no">EOF</span><span class="sh">
Before you scream Oh My Zsh! please look over the ~/.zshrc file to select plugins, themes, and options.
• Follow us on Twitter: </span><span class="si">$(</span>fmt_underline https://twitter.com/ohmyzsh<span class="si">)</span><span class="sh">
• Join our Discord server: </span><span class="si">$(</span>fmt_underline https://discord.gg/ohmyzsh<span class="si">)</span><span class="sh">
• Get stickers, shirts, coffee mugs and other swag: </span><span class="si">$(</span>fmt_underline https://shop.planetargon.com/collections/oh-my-zsh<span class="si">)</span><span class="sh">
</span><span class="no">EOF
</span>  <span class="nb">printf</span> %s <span class="s2">"</span><span class="nv">$RESET</span><span class="s2">"</span>

  <span class="k">if</span> <span class="o">[</span> <span class="nv">$RUNZSH</span> <span class="o">=</span> no <span class="o">]</span><span class="p">;</span> <span class="k">then
    </span><span class="nb">echo</span> <span class="s2">"</span><span class="k">${</span><span class="nv">YELLOW</span><span class="k">}</span><span class="s2">Run zsh to try it out.</span><span class="k">${</span><span class="nv">RESET</span><span class="k">}</span><span class="s2">"</span>
    <span class="nb">exit
  </span><span class="k">fi

  </span><span class="nb">exec </span>zsh <span class="nt">-l</span>
<span class="o">}</span>

main <span class="s2">"</span><span class="nv">$@</span><span class="s2">"</span>
</pre></table></code></div></div><p>本地执行如下命令</p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="c"># 将上面的安装命令复制到这个文件中</span>
<span class="nv">$ </span>vim install.sh
<span class="c"># 赋予执行权限</span>
<span class="nv">$ </span><span class="nb">chmod </span>744 ./install.sh
<span class="c"># 安装，如果系统里没有zsh需要手动安装zsh</span>
<span class="nv">$ </span>./install.sh 
</pre></table></code></div></div><p>按照如上命令<code class="language-plaintext highlighter-rouge">ohmyzsh</code>已经安装好了，但是还是很普通，没有想象中的那么好用，接下来进行美化</p><h1 id="安装插件">安装插件</h1><h2 id="下载插件">下载插件</h2><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="c"># 高亮插件</span>
git clone https://github.com/zsh-users/zsh-syntax-highlighting.git <span class="k">${</span><span class="nv">ZSH_CUSTOM</span><span class="k">:-</span><span class="p">~/.oh-my-zsh/custom</span><span class="k">}</span>/plugins/zsh-syntax-highlighting
<span class="c"># 建议插件</span>
git clone https://github.com/zsh-users/zsh-autosuggestions <span class="k">${</span><span class="nv">ZSH_CUSTOM</span><span class="k">:-</span><span class="p">~/.oh-my-zsh/custom</span><span class="k">}</span>/plugins/zsh-autosuggestions
<span class="c"># 补全插件</span>
git clone https://github.com/zsh-users/zsh-completions <span class="k">${</span><span class="nv">ZSH_CUSTOM</span>:<span class="p">=~/.oh-my-zsh/custom</span><span class="k">}</span>/plugins/zsh-completions
</pre></table></code></div></div><h2 id="配置插件生效">配置插件生效</h2><p>下载完插件之后需要将插件写道配置文件中才能生效</p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="c"># 打开配置文件</span>
vim ~/.zshrc
</pre></table></code></div></div><p>在文件中找到<code class="language-plaintext highlighter-rouge">plugins=(git)</code>这一行，修改为如下</p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre><span class="nv">plugins</span><span class="o">=(</span>
        git
        z
        extract
        <span class="nb">history
        </span>zsh-autosuggestions
        zsh-syntax-highlighting
        zsh-completions
<span class="o">)</span>
</pre></table></code></div></div><p>其中<code class="language-plaintext highlighter-rouge">z</code>插件代表自动跳转，<code class="language-plaintext highlighter-rouge">extract</code>自动解压各种格式的压缩文件</p><p>配置好之后执行如下命令使配置生效</p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">source</span> ~/.zshrc
</pre></table></code></div></div><h1 id="选择主题">选择主题</h1><p><a href="https://github.com/ohmyzsh/ohmyzsh/wiki/Themes">官网</a></p><p>挑选一个你喜欢的，然后修改主题</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre>vim ~/.zshrc
# 找到 ZSH_THEME， 将其修改为你喜欢的主题的名字，执行下面命令主题生效
source ~/.zshrc
</pre></table></code></div></div></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/zsh/'>zsh</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/tools/" class="post-tag no-text-decoration" >tools</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=安装Oh My ZSH - Korov&url=https://korov.github.io/posts/install-ohmyzsh/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=安装Oh My ZSH - Korov&u=https://korov.github.io/posts/install-ohmyzsh/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=安装Oh My ZSH - Korov&url=https://korov.github.io/posts/install-ohmyzsh/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/Intellij-IDEA-import-project-from-wsl/">Intellij IDEA import project from WSL2</a><li><a href="/posts/github-pages-jekyll/">使用Jekyll部署Github Pages</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/tools/">tools</a> <a class="post-tag" href="/tags/blog/">blog</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/ECJ-vs-javac/"><div class="card-body"> <span class="timeago small" > Jul 23 <i class="unloaded">2021-07-23T14:04:02+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>ECJ vs javac</h3><div class="text-muted small"><p> 这是Eclipse基金会推出的一款Java编译器，相比于早期Java自带的编译器其有以下三个有点： 支持多线程编译 支持增量编译 编译的过程中遇到错误也不会停止编译，而是会把所有编译中遇到的错误都展示出来 会了解这个的原因是当时入职了一家公司，那家公司全部员工用的都是Eclipse而我比较喜欢Intellij，但是有一次我写...</p></div></div></a></div><div class="card"> <a href="/posts/Intellij-IDEA-import-project-from-wsl/"><div class="card-body"> <span class="timeago small" > Aug 12 <i class="unloaded">2021-08-12T21:36:02+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Intellij IDEA import project from WSL2</h3><div class="text-muted small"><p> # 背景 公司里的项目有自己的打包脚本，因为同事都是用的mac，所以用bash打包，但是我用的是Windows没办法打包，后来就想到用WSL2来打包，但是每次要打包的时候都要把最新的代码拷贝到WSL2中，然后把打包的结果复制回Windows，很麻烦。 后来发现新版本的IDEA可以打开WSL2中的项目，但是试了之后发现这速度太慢了，构建索引都要半小时左右，根本不可用，后来发现原因是因为W...</p></div></div></a></div><div class="card"> <a href="/posts/github-pages-jekyll/"><div class="card-body"> <span class="timeago small" > Jun 25 <i class="unloaded">2021-06-25T19:18:02+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>使用Jekyll部署Github Pages</h3><div class="text-muted small"><p> 安装Ruby 推荐使用Ruby Version Manager(RVM)管理Ruby # 安装GPG keys gpg2 --keyserver hkp://pool.sks-keyservers.net --recv-keys 409B6B1796C275462A1703113804BB82D39DC0E3 7D2BAF1CF37B13E2069D6956105BD0E739499BD...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/github-pages-jekyll/" class="btn btn-outline-primary" prompt="Older"><p>使用Jekyll部署Github Pages</p></a> <a href="/posts/ECJ-vs-javac/" class="btn btn-outline-primary" prompt="Newer"><p>ECJ vs javac</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2021 <a href="https://github.com/korov">Korov</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/tools/">tools</a> <a class="post-tag" href="/tags/blog/">blog</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://korov.github.io{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
